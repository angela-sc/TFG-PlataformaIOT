@page "/generalproyectos"
@*@inject NavigationManager NavigationManager*@

@using Libreria.Entidades
@using Servicios

@using PortalWeb.ViewModel

@inherits GeneralProyectoViewModel

@if (proyectos != null)
{
    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-md-5"><span class="oi oi-list"></span> Proyectos disponibles</div>
                        <div class="col-md-3"></div>
                        <div class="col-md-4"><input @bind-value="SearchTerm" @bind-value:event="oninput" placeholder="Buscar..." class="form-control" id="buscarproyecto" /></div>
                    </div>
                </div>

                <div class="panel-body">
                    <ul class="list-group">
                        @foreach (var p in proyectosFiltrados)
                        {
                            var link = $"proyecto/{p.Nombre}";
                            <li href=@link class="list-group-item list-group-item-action">@p.Nombre</li>
                        }
                    </ul>
                </div>

                <div class="panel-footer">
                    <div class="row"  >
                        <div class="col-md-12">
                            <h6 style="float:right;">Total <span class="label label-info">@proyectos.Count()</span></h6>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
}
else
{
    <p><em>Cargando proyectos...</em></p>

}